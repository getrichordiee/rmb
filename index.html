<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è Telegram</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            background-color: #f7f7f7;
        }
        .button {
            background-color: #008CBA;
            color: white;
            padding: 15px 32px;
            margin: 10px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
        }
        .button:hover {
            background-color: #005f73;
        }
        .signal-container {
            display: none;
            text-align: center;
        }
    </style>
</head>
<body>
    <h1>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –Ω–∞—à–µ –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ!</h1>
    <p>–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –æ–¥–Ω—É –∏–∑ –∫–Ω–æ–ø–æ–∫ –Ω–∏–∂–µ, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å —Å–∏–≥–Ω–∞–ª –¥–ª—è –∏–≥—Ä—ã:</p>

    <!-- –ö–Ω–æ–ø–∫–∏ –≤—ã–±–æ—Ä–∞ –∏–≥—Ä—ã -->
    <button class="button" id="rocketButton">üöÄ –†–∞–∫–µ—Ç–∞</button>
    <button class="button" id="minesButton">üí£ –ú–∏–Ω—ã</button>

    <!-- –°–∏–≥–Ω–∞–ª—ã -->
    <div class="signal-container" id="signalContainer">
        <h2>–°–∏–≥–Ω–∞–ª –ø–æ–ª—É—á–µ–Ω üî•</h2>
        <p id="signalText">–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–∏–≥–Ω–∞–ª–∞...</p>
        <button class="button" id="newSignalButton">–ü–æ–ª—É—á–∏—Ç—å –Ω–æ–≤—ã–π —Å–∏–≥–Ω–∞–ª ‚úîÔ∏è</button>
        <button class="button" id="backButton">–ù–∞–∑–∞–¥ üîô</button>
    </div>

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–Ω–æ–ø–æ–∫ –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
        const rocketButton = document.getElementById('rocketButton');
        const minesButton = document.getElementById('minesButton');
        const signalContainer = document.getElementById('signalContainer');
        const signalText = document.getElementById('signalText');
        const newSignalButton = document.getElementById('newSignalButton');
        const backButton = document.getElementById('backButton');

        let currentGame = '';

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–Ω–æ–ø–∫–∏ "–†–∞–∫–µ—Ç–∞"
        rocketButton.onclick = () => {
            currentGame = 'rocket';
            generateSignal();
        };

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–Ω–æ–ø–∫–∏ "–ú–∏–Ω—ã"
        minesButton.onclick = () => {
            currentGame = 'mines';
            generateSignal();
        };

        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–∏–≥–Ω–∞–ª–∞
        function generateSignal() {
            signalContainer.style.display = 'block';  // –ü–æ–∫–∞–∑–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å —Å–∏–≥–Ω–∞–ª–æ–º
            signalText.textContent = '–ü–æ–¥–æ–∂–¥–∏—Ç–µ, –∏–¥—ë—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–∏–≥–Ω–∞–ª–∞... üß≠';

            // –°–∏–º—É–ª—è—Ü–∏—è –∑–∞–¥–µ—Ä–∂–∫–∏ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–∏–≥–Ω–∞–ª–∞
            setTimeout(() => {
                const coefficient = (Math.random() * (20 - 1) + 1).toFixed(2);
                const chance = Math.max(19, (100 - coefficient * 3)).toFixed(0);
                const duration = Math.floor(Math.random() * (240 - 15 + 1)) + 15;

                if (currentGame === 'rocket') {
                    signalText.innerHTML = `üöÄ –°–∏–≥–Ω–∞–ª –¥–ª—è –†–∞–∫–µ—Ç—ã:<br>üí∞–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç: ${coefficient}x<br>üòà–®–∞–Ω—Å: ${chance}%<br>‚è±Ô∏è–°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è: ${duration} —Å–µ–∫—É–Ω–¥`;
                } else if (currentGame === 'mines') {
                    const numMines = Math.random() > 0.5 ? 1 : 3;
                    const matrix = generateMines(numMines);
                    signalText.innerHTML = `üí£ –°–∏–≥–Ω–∞–ª –¥–ª—è –ú–∏–Ω—ã:<br>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∏–Ω: ${numMines}<br>‚è±Ô∏è–°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è: ${duration} —Å–µ–∫—É–Ω–¥<br><br>${matrix}`;
                }
            }, 3000); // –ó–∞–¥–µ—Ä–∂–∫–∞ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
        }

        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –º–∞—Ç—Ä–∏—Ü—ã –¥–ª—è –ú–∏–Ω—ã
        function generateMines(numMines) {
            const size = 5;
            let matrix = Array(size).fill().map(() => Array(size).fill('üü¶')); // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –º–∞—Ç—Ä–∏—Ü—É
            const stars = [];

            while (stars.length < numMines) {
                let index = Math.floor(Math.random() * (size * size));
                if (!stars.includes(index)) {
                    stars.push(index);
                    const row = Math.floor(index / size);
                    const col = index % size;
                    matrix[row][col] = '‚≠ê'; // –†–∞–∑–º–µ—â–∞–µ–º –∑–≤–µ–∑–¥—ã (–º–∏–Ω—ã)
                }
            }

            return matrix.map(row => row.join('')).join('<br>');
        }

        // –ö–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥"
        backButton.onclick = () => {
            signalContainer.style.display = 'none'; // –°–∫—Ä—ã—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å–∏–≥–Ω–∞–ª–∞
        };

        // –ö–Ω–æ–ø–∫–∞ "–ü–æ–ª—É—á–∏—Ç—å –Ω–æ–≤—ã–π —Å–∏–≥–Ω–∞–ª"
        newSignalButton.onclick = () => {
            generateSignal(); // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ —Å–∏–≥–Ω–∞–ª–∞
        };
    </script>
</body>
</html>
